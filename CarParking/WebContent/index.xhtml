<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
<title>Car Parking</title>
<link rel="stylesheet" href="resources/css/style.css" type="text/css"/>
</h:head>
<h:body>
<center><h1>Create Parking</h1></center>

<!-- adding building and floors -->
<div id="div">
<h:form id="form1">  
<p:growl id="msgs" showDetail="true" />  
<p:panel id="panel">  
<h:panelGrid columns="2" cellpadding="5">
    <h:outputText value="Building name: "/>  
    <p:inputText style="width:70%;" value="#{carParkingBean.carCtl.buildingName}" label="buildingName" required="true" validatorMessage="Insert only characters for building name.">
     <f:validateRegex pattern="[a-zA-Z ]+"/>
     </p:inputText>
    <h:outputText value="Number of floor: "/>  
    <p:inputText style="width:70%;" value="#{carParkingBean.carCtl.floorName}"/>   
    <h:outputText/>
  <p:commandButton style="width:55%;float:right;" value="ADD" update="form1 form2" oncomplete="" actionListener="#{carParkingBean.floorList()}" styleClass="ui-priority-primary" />  
</h:panelGrid>
</p:panel>
</h:form>
</div>

<!-- drop down -->
<div id="div">
<h:form id="form2">  
<p:growl id="msgs" showDetail="true" />  
<p:panel id="panel" header="Creating slots">  
<h:panelGrid columns="2" cellpadding="5">  
<h:outputLabel/> 
<h:outputLabel style="font-size:13px;color:gray">*Enter the number of slot for each floor.</h:outputLabel>
<p:outputLabel for="floor" value="Floor : " />  
<p:selectOneMenu id="floor" value="#{carParkingBean.floorName}" style="width:70%">  
<p:ajax listener="#{carParkingBean.onFloorChange}" /> 
<f:selectItem itemLabel="Select floor" itemValue="" noSelectionOption="true" />  
<f:selectItems value="#{carParkingBean.floors}" />  
</p:selectOneMenu>  
<p:outputLabel value="Number of slot: " />     
<p:inputText style="width:70%" value="#{carParkingBean.carCtl.slot}"/>
</h:panelGrid>
<p:separator />  
<p:commandButton style="float:right;" value="Submit" update="msgs" actionListener="#{carParkingBean.persistInformation()}" icon="ui-icon-check" styleClass="ui-priority-primary"  />  
</p:panel>  
</h:form> 
</div>
<br></br>
<hr></hr>

<!-- Editing button -->
<div>
<p:panel header="Edit">  
<h:panelGrid style="margin: 0 auto;" columns="3" cellpadding="7"> 
<p:commandButton value="Delete Building" actionListener="#{carParkingBean.deleteBuilding()}" styleClass="ui-priority-primary"  />  
<p:commandButton value="Delete Floor" actionListener="#{carParkingBean.deleteFloor()}" styleClass="ui-priority-primary"  />  
<p:commandButton value="Delete Slot" actionListener="#{carParkingBean.deleteSlot()}" styleClass="ui-priority-primary"  />  
</h:panelGrid>
</p:panel>
</div>

<a href="view.xhtml">View</a>
</h:body>
</html>