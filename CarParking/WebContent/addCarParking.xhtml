
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">


<center><h2>Add Car Parking</h2></center>
 
<h:form> 
<p:panel> 
<p:messages for="addCarMsg" autoUpdate="true" closable="true" showSummary="true" showDetail="false" severity="error"/>

<h:panelGrid columns="2" cellpadding="7">


<p:outputLabel value="Admin Name : "/><p:outputLabel id="name" value="#{userAdminAccountBean.accountCtl.name}"/>
 <p:outputLabel value="Building : "/><p:outputLabel id="b" value="#{carParkingHistoryBean.historyCtl.building}"/>

<p:outputLabel value="Car Number : "/>
<p:inputText value="#{carParkingHistoryBean.historyCtl.carNumber}"/>
        
         <p:outputLabel for="floor" value="Choose Floor : "/>
         <p:selectOneMenu id="floor" value="#{carParkingHistoryBean.selectedFloor}" style="width:80%">  
        <p:ajax listener="#{carParkingHistoryBean.onSelectedFloorChange}" process="@this" update="slot"/> 
        <f:selectItem itemLabel="Select Floor" itemValue="" noSelectionOption="true" />  
        <f:selectItems value="#{carParkingHistoryBean.floorLists()}"/>  
        </p:selectOneMenu>
 
</h:panelGrid>  
</p:panel>
<br></br>

<p:panel id="slot">
<center>
  <ui:repeat var="s" value="${carParkingHistoryBean.slotLists()}">
                 	<p:commandButton value="#{s}" action="#{carParkingHistoryBean.selectedSlot(userAdminAccountBean.accountCtl.name,s)}" update="@form" style="background:#{carParkingHistoryBean.toggleStatus(carParkingHistoryBean.selectedFloor,s)}"></p:commandButton>	
   	              </ui:repeat>
   	              </center>
   	              </p:panel>
 </h:form>  
          
</html>