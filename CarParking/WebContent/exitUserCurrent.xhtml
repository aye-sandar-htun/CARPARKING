
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<h:head><title>Car Parking System</title></h:head>

<h:body > 



   
	 <div align="center">
    <h:outputText  value="Car Parking System"  style="font-weight:bold;font-family:Arial;
	color:rgb(0, 0, 0); font-size:35px;" ></h:outputText>
	</div><br></br>
	
				
				<p:button href="exitUserCurrent.xhtml" style="margin:2px;width:120px;height:50px; background: #209114 ;color:#000000;" value="Show Car List"/>
				<p:button href="exitUserAdminProfile.xhtml" style="margin:2px;width:120px;height:50px; background: #f2f4f4  ;color:#000000;" value="Admin Profile"/>





    <h:form>

 <p:growl id="msgs" showDetail="true" life="1000"/>

               
    <p:dataTable var="h" value="#{carParkingHistoryBean.showCurrentList()}" widgetVar="history_record"
                 emptyMessage="No cars found with given criteria" filteredValue="#{carParkingHistoryBean.showFilteredCurrentList}">
  
 <p:column filterBy="#{h.carNumber}" headerText="Car Number" filterMatchMode="contains">
            <h:outputText value="#{h.carNumber}" />
            </p:column>
             <p:column  headerText="Slot">
            <h:outputText value="#{h.slot}" />
        </p:column>
        
       <p:column headerText="Floor" >
            <h:outputText value="#{h.floor}" />
        </p:column> 
        <p:column headerText="Building">
            <h:outputText value="#{h.building}" />
        </p:column>
        
       
        <p:column headerText="Entry Time">
            <h:outputText value="#{h.entryTime}">
             <f:convertDateTime pattern="hh:mm:ss" />
            </h:outputText>
        </p:column>
        <p:column headerText="Exit Time">
            <h:outputText value="#{h.exitTime}">
             <f:convertDateTime pattern="hh:mm:ss" />
            </h:outputText>
        </p:column>
        <p:column headerText="Date">
            <h:outputText value="#{h.date}">
                 <f:convertDateTime pattern="yyyy/MM/dd" />
                 </h:outputText>
        </p:column>
          <p:column headerText="Actions"> 
               
               
	   		    
   			 <p:growl showDetail="true" />
     
    		<p:commandButton value="Clear" styleClass="ui-priority-primary" action="#{carParkingHistoryBean.clearSlot(h.floor,h.slot)}" update="@form">
    		</p:commandButton>
    </p:column>
    </p:dataTable>
    </h:form>
</h:body>
</html>